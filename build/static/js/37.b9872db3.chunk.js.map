{"version":3,"sources":["decorator/resizeMe.js","components/Charts/ECharts/EC.js","components/Print/Print.js","components/Print/index.js","routes/Widgets/Print/components/Report.js","routes/Widgets/Print/components/Dynamic.js","routes/Widgets/Print/components/index.js","components/Panel/Panel.js","components/Panel/index.js"],"names":["debounce","$$","throttle","defaultConfig","refreshRate","refreshMode","resizeMe","config","arguments","length","undefined","refreshFunc","WrappedComponent","_PureComponent","_temp","props","_this","Object","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","onResize","element","parentNode","_getComputedStyle","getComputedStyle","width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","size","parseInt","setState","onResizeStrategy","state","position","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","resizeSensor","ResizeSensor","detach","_this2","_this$state","_this$props","className","otherProps","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","ref","node","style","assign","E_react_learn_react_dva_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","PureComponent","ECharts","getEchartsInstance","echarts","getInstanceByDom","echartsElement","init","theme","opts","dispose","rerender","onEvents","onChartReady","echartObj","renderEchartDom","bindEvents","instance","events","_bindEvent","eventName","func","on","param","prototype","hasOwnProperty","setOption","option","notMerge","lazyUpdate","showLoading","loadingOption","hideLoading","prevProps","isEqual","resize","e","console","warn","some","item","shouldSetOption","_this3","_this$props2","id","newStyle","react__WEBPACK_IMPORTED_MODULE_6___default","Component","defaultProps","ROOT","Print","classCallCheck","possibleConstructorReturn","getPrototypeOf","normalElement","content","document","innerHTML","Element","React","isValidElement","ReactDOM","findDOMNode","createContainer","container","querySelector","body","appendChild","debug","left","top","overflow","createFrame","strFrameName","Date","getTime","printI","name","window","location","hostname","domain","navigator","userAgent","match","iframeSrc","src","setContent","doctypeString","importCSS","importStyle","pageTitle","loadCSS","canvas","beforePrint","iframe","doctype","doc","contentDocument","open","write","close","setDocType","head","forEach","querySelectorAll","href","getAttribute","media","setLink","cloneNode","title","innerText","isArray","pageHtml","setAttribute","cssText","canvasId","formValues","removeScripts","_element","origin","clone","elementSelector","originalElements","index","copyValues","removeChild","appendBody","cid","getContext","drawImage","removeAttribute","beforePrintHandler","win","contentWindow","matchMedia","addListener","mql","matches","onbeforeprint","attachOnBeforePrintEvent","savePrint","print","handlePrint","afterPrint","queryCommandSupported","execCommand","focus","prevState","react_default","Fragment","Print_Rootless","cloneElement","trigger","onClick","printDelay","Rootless","_ref","children","createPortal","link","rel","type","CheckboxGroup","checkbox_default","Group","Report","colSpan","rowSpan","options","label","Dynamic","images","fetch","then","resp","json","push","catch","error","log","map","image","alt","Content","Blank","connect","element1","element2","saveElement1","saveElement2","getOption","text","subtext","x","tooltip","formatter","legend","orient","data","series","radius","center","itemStyle","emphasis","shadowBlur","shadowOffsetX","shadowColor","comps","border","textAlign","color","layout_default","Panel","row_default","gutter","col_default","span","components_Print","button_default","icon","components_Report","components_Dynamic","EC","BaseComponent","confirm","modal_default","noop","_","onExpand","expand","onChange","collapse","onCollapse","onRefresh","refresh","animationName","onClose","onOk","nextProps","st","keys","prefix","header","cover","scroll","classnames","cx","panel-fullscreen","panel-collapsed","styles","objectSpread","bodyStyles","Header","concat","Icon","popconfirm_default","onConfirm","placement","CSSAnimate","callback"],"mappings":"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","file":"static/js/37.b9872db3.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\r\nimport ResizeSensor from 'css-element-queries/src/ResizeSensor';\r\nimport $$ from 'cmn-utils';\r\nconst { debounce, throttle } = $$;\r\n\r\n/**\r\n * 在一个类上增加这个装饰器，可以监听组件的大小变化，\r\n * 被包装的类在porps中将注入组件的width和height，并且\r\n * 在上级函组件中可以使用onResize函数\r\n * @param {*} config\r\n */\r\nconst defaultConfig = {\r\n  refreshRate: 16, // 调用频率\r\n  refreshMode: 'throttle' // 使用函数，只能是节流或防抖函数[throttle | debounce]\r\n};\r\n\r\nconst resizeMe = (config = defaultConfig) => {\r\n  const refreshFunc = config.refreshMode === 'throttle' ? throttle : debounce;\r\n\r\n  return WrappedComponent => {\r\n    return class extends PureComponent {\r\n      constructor(props) {\r\n        super(props);\r\n        this.onResizeStrategy = refreshFunc(this.onResize, config.refreshRate);\r\n        this.state = {\r\n          width: undefined,\r\n          height: undefined,\r\n          position: undefined\r\n        };\r\n      }\r\n\r\n      componentDidMount() {\r\n        const element = this.element.parentNode;\r\n        this.resizeSensor = new ResizeSensor(element, this.onResizeStrategy);\r\n        this.onResizeStrategy();\r\n      }\r\n\r\n      componentWillUnmount() {\r\n        const element = this.element.parentNode;\r\n        this.resizeSensor.detach(element, this.onResizeStrategy);\r\n      }\r\n\r\n      onResize = () => {\r\n        if (!this.element) return;\r\n\r\n        const element = this.element.parentNode;\r\n        const { onResize } = this.props;\r\n        const {\r\n          width,\r\n          height,\r\n          paddingLeft,\r\n          paddingRight,\r\n          paddingTop,\r\n          paddingBottom\r\n        } = getComputedStyle(element);\r\n\r\n        const size = {\r\n          width:\r\n            parseInt(width, 10) -\r\n            parseInt(paddingLeft, 10) -\r\n            parseInt(paddingRight, 10),\r\n          height:\r\n            parseInt(height, 10) -\r\n            parseInt(paddingTop, 10) -\r\n            parseInt(paddingBottom, 10)\r\n        };\r\n        this.setState(size);\r\n\r\n        onResize && onResize(size);\r\n      };\r\n\r\n      render() {\r\n        const { width, height } = this.state;\r\n        const { className, ...otherProps } = this.props;\r\n        const styles = {\r\n          position: 'relative',\r\n          width: '100%',\r\n          height: '100%'\r\n        };\r\n        return (\r\n          <div\r\n            ref={node => (this.element = node)}\r\n            style={styles}\r\n            className={className}\r\n          >\r\n            {width && height ? (\r\n              <WrappedComponent {...otherProps} size={{ ...this.state }} />\r\n            ) : null}\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n  };\r\n};\r\n\r\nexport default resizeMe;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport echarts from 'echarts/lib/echarts';\r\nimport resizeMe from '@/decorator/resizeMe';\r\nimport isEqual from 'react-fast-compare';\r\n\r\n/**\r\n * 基于ECharts 4的简单封装 fork自https://github.com/hustcc/echarts-for-react/blob/master/src/core.jsx\r\n */\r\n@resizeMe({ refreshRate: 50 })\r\nclass ECharts extends Component {\r\n  componentDidMount() {\r\n    this.rerender();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // 以下属性修改的时候，需要 dispose 之后再新建\r\n    // 1. 切换 theme 的时候\r\n    // 2. 修改 opts 的时候\r\n    // 3. 修改 onEvents 的时候，这样可以取消所以之前绑定的事件 issue #151\r\n    if (\r\n      prevProps.theme !== this.props.theme ||\r\n      !isEqual(prevProps.opts, this.props.opts) ||\r\n      !isEqual(prevProps.onEvents, this.props.onEvents)\r\n    ) {\r\n      this.dispose();\r\n\r\n      this.rerender(); // 重建\r\n      return;\r\n    }\r\n\r\n    // 大小改变时, 样式修改的时候，可能会导致大小变化，所以触发一下 resize\r\n    if (\r\n      !isEqual(prevProps.size, this.props.size) ||\r\n      !isEqual(prevProps.style, this.props.style) ||\r\n      !isEqual(prevProps.className, this.props.className)\r\n    ) {\r\n      try {\r\n        this.echartObj.resize();\r\n      } catch (e) {\r\n        console.warn(e);\r\n      }\r\n    }\r\n\r\n    // 当这些属性保持不变的时候，不 setOption\r\n    const pickKeys = [\r\n      'option',\r\n      'notMerge',\r\n      'lazyUpdate',\r\n      'showLoading',\r\n      'loadingOption'\r\n    ];\r\n    if (!pickKeys.some(item => !isEqual(prevProps[item], this.props[item]))) {\r\n      return;\r\n    }\r\n\r\n    // 判断是否需要 setOption，由开发者自己来确定。默认为 true\r\n    if (!this.props.shouldSetOption(prevProps, this.props)) {\r\n      return;\r\n    }\r\n\r\n    this.echartObj = this.renderEchartDom();\r\n  }\r\n\r\n  // remove\r\n  componentWillUnmount() {\r\n    this.dispose();\r\n  }\r\n\r\n  // return the echart object\r\n  getEchartsInstance = () =>\r\n    echarts.getInstanceByDom(this.echartsElement) ||\r\n    echarts.init(this.echartsElement, this.props.theme, this.props.opts);\r\n\r\n  // dispose echarts\r\n  dispose = () => {\r\n    if (this.echartsElement) {\r\n      // dispose echarts instance\r\n      echarts.dispose(this.echartsElement);\r\n    }\r\n  };\r\n\r\n  rerender = () => {\r\n    const { onEvents, onChartReady } = this.props;\r\n\r\n    this.echartObj = this.renderEchartDom();\r\n    this.bindEvents(this.echartObj, onEvents || {});\r\n\r\n    // on chart ready\r\n    if (typeof onChartReady === 'function')\r\n      this.props.onChartReady(this.echartObj);\r\n  };\r\n\r\n  // bind the events\r\n  bindEvents = (instance, events) => {\r\n    const _bindEvent = (eventName, func) => {\r\n      // ignore the event config which not satisfy\r\n      if (typeof eventName === 'string' && typeof func === 'function') {\r\n        // binding event\r\n        // instance.off(eventName); // 已经 dispose 在重建，所以无需 off 操作\r\n        instance.on(eventName, param => {\r\n          func(param, instance);\r\n        });\r\n      }\r\n    };\r\n\r\n    // loop and bind\r\n    for (const eventName in events) {\r\n      if (Object.prototype.hasOwnProperty.call(events, eventName)) {\r\n        _bindEvent(eventName, events[eventName]);\r\n      }\r\n    }\r\n  };\r\n\r\n  // render the dom\r\n  renderEchartDom = () => {\r\n    // init the echart object\r\n    const echartObj = this.getEchartsInstance();\r\n    // set the echart option\r\n    echartObj.setOption(\r\n      this.props.option,\r\n      this.props.notMerge || false,\r\n      this.props.lazyUpdate || false\r\n    );\r\n    // set loading mask\r\n    if (this.props.showLoading)\r\n      echartObj.showLoading(this.props.loadingOption || null);\r\n    else echartObj.hideLoading();\r\n\r\n    return echartObj;\r\n  };\r\n\r\n  render() {\r\n    const { size, style, id, className } = this.props;\r\n    const { width, height } = size;\r\n\r\n    const newStyle = {\r\n      height,\r\n      width,\r\n      ...style\r\n    };\r\n\r\n    return (\r\n      <div\r\n        ref={e => {\r\n          this.echartsElement = e;\r\n        }}\r\n        style={newStyle}\r\n        id={id}\r\n        className={className}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nECharts.propTypes = {\r\n  option: PropTypes.object.isRequired, // eslint-disable-line react/forbid-prop-types\r\n  echarts: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  notMerge: PropTypes.bool,\r\n  lazyUpdate: PropTypes.bool,\r\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  className: PropTypes.string,\r\n  theme: PropTypes.string,\r\n  onChartReady: PropTypes.func,\r\n  showLoading: PropTypes.bool,\r\n  loadingOption: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  onEvents: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  opts: PropTypes.shape({\r\n    devicePixelRatio: PropTypes.number,\r\n    renderer: PropTypes.oneOf(['canvas', 'svg']),\r\n    width: PropTypes.oneOfType([\r\n      PropTypes.number,\r\n      PropTypes.oneOf([null, undefined, 'auto'])\r\n    ]),\r\n    height: PropTypes.oneOfType([\r\n      PropTypes.number,\r\n      PropTypes.oneOf([null, undefined, 'auto'])\r\n    ]),\r\n  }),\r\n  shouldSetOption: PropTypes.func,\r\n};\r\n\r\nECharts.defaultProps = {\r\n  echarts: {},\r\n  notMerge: false,\r\n  lazyUpdate: false,\r\n  style: {},\r\n  className: '',\r\n  theme: null,\r\n  onChartReady: () => {},\r\n  showLoading: false,\r\n  loadingOption: null,\r\n  onEvents: {},\r\n  opts: {},\r\n  shouldSetOption: () => true,\r\n};\r\n\r\nexport { echarts };\r\nexport default ECharts;\r\n","import React, { PureComponent } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport assign from 'object-assign';\r\nimport { isArray } from 'cmn-utils/lib/utils';\r\nconst ROOT = 'antui-print-container';\r\n/**\r\n * 打印页面中的指定组件，\r\n * fork自：\r\n *   https://github.com/gregnb/react-to-print\r\n *   https://github.com/jasonday/printThis\r\n */\r\nclass Print extends PureComponent {\r\n  static propTypes = {\r\n    content: PropTypes.any.isRequired, // 可以是 string | React组件 | DOM 元素\r\n    trigger: PropTypes.node, // print controller area\r\n    debug: PropTypes.bool, // debug\r\n    doctypeString: PropTypes.string, // enter a different doctype for older markup\r\n    importCSS: PropTypes.bool, // import parent page css\r\n    importStyle: PropTypes.bool, // import style tags\r\n    pageTitle: PropTypes.string, // add title to print page\r\n    loadCSS: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), // path to additional css file - use an array [] for multiple\r\n    formValues: PropTypes.bool, // preserve input/form values\r\n    removeScripts: PropTypes.bool, // remove script tags from print content\r\n    beforePrint: PropTypes.func, // function called before iframe is filled\r\n    afterPrint: PropTypes.func, // function called before iframe is removed\r\n    printDelay: PropTypes.number, //\r\n    canvas: PropTypes.bool // copy canvas content\r\n  };\r\n\r\n  static defaultProps = {\r\n    debug: false,\r\n    trigger: <button>打印</button>,\r\n    doctypeString: '<!DOCTYPE html>',\r\n    importCSS: true,\r\n    importStyle: true,\r\n    pageTitle: '',\r\n    loadCSS: '',\r\n    formValues: true,\r\n    removeScripts: false,\r\n    beforePrint: null,\r\n    afterPrint: null,\r\n    printDelay: 333,\r\n    canvas: false\r\n  };\r\n\r\n  constructor(props) {\r\n    super();\r\n    this.container = this.createContainer(props);\r\n    this.iframe = this.createFrame(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.normalElement();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    this.normalElement();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // remove iframe after print\r\n    this.iframe.parentNode.removeChild(this.iframe);\r\n  }\r\n\r\n  normalElement = () => {\r\n    const { content } = this.props;\r\n\r\n    if (typeof content === 'string') {\r\n      // html string\r\n      this.element = document.createElement('div');\r\n      this.element.innerHTML = content;\r\n    } else if (content instanceof Element) {\r\n      // real dom element\r\n      this.element = content;\r\n    } else if (\r\n      !React.isValidElement(content) &&\r\n      ReactDOM.findDOMNode(content)\r\n    ) {\r\n      this.element = ReactDOM.findDOMNode(content);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * create container\r\n   */\r\n  createContainer = props => {\r\n    let container = document.querySelector('#' + ROOT);\r\n    if (container) return container;\r\n    else {\r\n      container = document.createElement('div');\r\n      container.id = ROOT;\r\n      document.body.appendChild(container);\r\n      if (!props.debug) {\r\n        assign(container.style, {\r\n          position: 'absolute',\r\n          width: '0px',\r\n          height: '0px',\r\n          left: '-600px',\r\n          top: '-600px',\r\n          overflow: 'hidden'\r\n        });\r\n      }\r\n      return container;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * create print iframe\r\n   */\r\n  createFrame = props => {\r\n    const strFrameName = 'printThis-' + new Date().getTime();\r\n\r\n    let printI = document.createElement('iframe');\r\n    printI.name = 'printIframe';\r\n    printI.id = strFrameName;\r\n\r\n    if (\r\n      window.location.hostname !== document.domain &&\r\n      navigator.userAgent.match(/msie/i)\r\n    ) {\r\n      // Ugly IE hacks due to IE not inheriting document.domain from parent\r\n      // checks if document.domain is set by comparing the host name against document.domain\r\n      /* eslint-disable no-script-url, no-useless-concat */\r\n      const iframeSrc =\r\n        'javascript:document.write(\"<head><script>document.domain=\\\\\"' +\r\n        document.domain +\r\n        '\\\\\";</s' +\r\n        'cript></head><body></body>\")';\r\n      printI.className = 'MSIE';\r\n      printI.src = iframeSrc;\r\n    }\r\n    this.container.appendChild(printI);\r\n\r\n    return printI;\r\n  };\r\n\r\n  // set html content for iframe\r\n  setContent = () => {\r\n    const {\r\n      doctypeString,\r\n      importCSS,\r\n      importStyle,\r\n      pageTitle,\r\n      loadCSS,\r\n      canvas,\r\n      beforePrint\r\n    } = this.props;\r\n    if (doctypeString) {\r\n      setDocType(this.iframe, doctypeString);\r\n    }\r\n\r\n    const doc =\r\n      this.iframe.document || this.iframe.contentDocument || this.iframe;\r\n    const head = doc.querySelector('head');\r\n    const body = doc.querySelector('body');\r\n\r\n    // import page stylesheets\r\n    if (importCSS) {\r\n      [].forEach.call(\r\n        document.querySelectorAll('link[rel=stylesheet]'),\r\n        item => {\r\n          const href = item.getAttribute('href');\r\n          if (href) {\r\n            const media = item.getAttribute('media') || 'all';\r\n            setLink(head, href, media);\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    // import style tags\r\n    if (importStyle) {\r\n      [].forEach.call(document.querySelectorAll('style'), item => {\r\n        head.appendChild(item.cloneNode(true));\r\n      });\r\n    }\r\n\r\n    // add title of the page\r\n    if (pageTitle) {\r\n      const title = document.createElement('title');\r\n      title.innerText(pageTitle);\r\n      head.appendChild(title);\r\n    }\r\n\r\n    // import additional stylesheet(s)\r\n    if (loadCSS) {\r\n      if (isArray(loadCSS)) {\r\n        loadCSS.forEach(item => {\r\n          setLink(head, item);\r\n        });\r\n      } else {\r\n        setLink(head, loadCSS);\r\n      }\r\n    }\r\n\r\n    const pageHtml = document.querySelector('html');\r\n    doc.querySelector('html').setAttribute('style', pageHtml.style.cssText);\r\n\r\n    if (canvas) {\r\n      // add canvas data-ids for easy access after cloning.\r\n      let canvasId = 0;\r\n      // .addBack('canvas') adds the top-level element if it is a canvas.\r\n      [].forEach.call(this.element.querySelectorAll('canvas'), item => {\r\n        item.setAttribute('data-printthis', canvasId++);\r\n      });\r\n    }\r\n\r\n    appendBody(body, this.element, this.props);\r\n\r\n    if (canvas) {\r\n      // Re-draw new canvases by referencing the originals\r\n      [].forEach.call(body.querySelectorAll('canvas'), item => {\r\n        const cid = item.getAttribute('data-printthis');\r\n        const src = document.querySelector('[data-printthis=\"' + cid + '\"]');\r\n\r\n        item.getContext('2d').drawImage(src, 0, 0);\r\n        src.removeAttribute('data-printthis');\r\n      });\r\n    }\r\n\r\n    // attach event handler function to beforePrint event\r\n    function attachOnBeforePrintEvent(iframe, beforePrintHandler) {\r\n      const win = iframe.contentWindow || iframe.contentDocument || iframe;\r\n\r\n      if (typeof beforePrintHandler === 'function') {\r\n        if ('matchMedia' in win) {\r\n          win.matchMedia('print').addListener(mql => {\r\n            if (mql.matches) beforePrintHandler();\r\n          });\r\n        } else {\r\n          win.onbeforeprint = beforePrintHandler;\r\n        }\r\n      }\r\n    }\r\n    attachOnBeforePrintEvent(this.iframe, beforePrint);\r\n  };\r\n\r\n  savePrint = node => {\r\n    this.print = node;\r\n  };\r\n\r\n  // print it\r\n  handlePrint = () => {\r\n    const { afterPrint } = this.props;\r\n\r\n    this.setContent();\r\n    // proper method\r\n    if (document.queryCommandSupported('print')) {\r\n      this.iframe.contentWindow.document.execCommand('print', false, null);\r\n    } else {\r\n      this.iframe.contentWindow.focus();\r\n      this.iframe.contentWindow.print();\r\n    }\r\n\r\n    // after print callback\r\n    if (typeof afterPrint === 'function') {\r\n      afterPrint();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { content } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        {React.isValidElement(content) ? (\r\n          <Rootless container={this.container}>\r\n            {React.cloneElement(content, {\r\n              ref: node => (this.element = node)\r\n            })}\r\n          </Rootless>\r\n        ) : null}\r\n        {React.cloneElement(this.props.trigger, {\r\n          ref: this.savePrint,\r\n          onClick: this.handlePrint\r\n        })}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst Rootless = ({ children, container }) =>\r\n  ReactDOM.createPortal(children, container);\r\n\r\n// Add doctype to fix the style difference between printing and render\r\nfunction setDocType(iframe, doctype) {\r\n  const doc = iframe.document || iframe.contentDocument || iframe;\r\n  doc.open();\r\n  doc.write(doctype);\r\n  doc.close();\r\n}\r\n\r\n// set html link tag\r\nfunction setLink(head, href, media) {\r\n  const link = document.createElement('link');\r\n  link.href = href;\r\n  if (media) link.media = media;\r\n  link.rel = 'stylesheet';\r\n  link.type = 'text/css'; // no need for HTML5\r\n  head.appendChild(link);\r\n}\r\n\r\nfunction appendBody(body, element, props) {\r\n  const { formValues, removeScripts } = props;\r\n  // Clone for safety and convenience\r\n  const _element = ReactDOM.findDOMNode(element);\r\n  const content = _element.cloneNode(true);\r\n\r\n  if (formValues) {\r\n    // Copy original select and textarea values to their cloned counterpart\r\n    // Makes up for inability to clone select and textarea values with clone(true)\r\n    copyValues(_element, content, 'select, textarea');\r\n  }\r\n\r\n  if (removeScripts) {\r\n    [].forEach.call(content.querySelectorAll('script'), item => {\r\n      item.parentNode.removeChild(item);\r\n    });\r\n  }\r\n\r\n  body.appendChild(content);\r\n}\r\n\r\n// Copies values from origin to clone for passed in elementSelector\r\nfunction copyValues(origin, clone, elementSelector) {\r\n  const originalElements = origin.querySelectorAll(elementSelector);\r\n\r\n  [].forEach.call(clone.querySelectorAll(elementSelector), (item, index) => {\r\n    item.value = originalElements[index].value;\r\n  });\r\n}\r\n\r\nexport default Print;\r\n","import Print from './Print';\r\n\r\nexport default Print;","import React, { Component } from 'react';\r\nimport { Checkbox } from 'antd';\r\nimport './report.less';\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\n/**\r\n * 示例报表打印\r\n */\r\nclass Report extends Component {\r\n  render() {\r\n    const plainOptions = [\r\n      {value: '1066001', label: '开发实施'},\r\n      {value: '1066002', label: '测试'},\r\n      {value: '1066003', label: '试运行'},\r\n    ];\r\n    return (\r\n      <div className=\"system-audit-pring\">\r\n        <table className=\"tg\">\r\n          <tbody>\r\n          <tr>\r\n            <th className=\"tg-wp8o\" colSpan=\"5\">\r\n              <h1>XX部署/实施会签单</h1>\r\n              <h3 className=\"version\">版本号：20181121</h3>\r\n            </th>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-obcv left1\" rowSpan=\"5\">申请人填写项</td>\r\n            <td className=\"tg-obcv left2 hfixed\">系统名称</td>\r\n            <td className=\"tg-73oq\" colSpan=\"3\"></td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-obcv left2 hfixed\">系统状态</td>\r\n            <td className=\"tg-73oq\" colSpan=\"3\">\r\n              <CheckboxGroup options={plainOptions} />\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-obcv left2 hfixed\">负责系统业务部门</td>\r\n            <td className=\"tg-73oq\" colSpan=\"3\"></td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-obcv left2\">系统说明</td>\r\n            <td className=\"tg-73oq xtsm-content\" colSpan=\"3\">\r\n              <i>（简要说明系统基本情况：主要功能、部署方式、硬件架构、软件架构等。如：所需服务器类型、数量、配置；应用数据库种类及版本等。）</i>\r\n              <p></p>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-73oq h20\" colSpan=\"2\">\r\n              <div className=\"w50\">\r\n                申请单位： \r\n                <div className=\"sign\">负责人签字：<br />(加盖公章)</div>\r\n                <div className=\"date\">&nbsp;年&emsp;月&emsp;日</div>\r\n              </div>\r\n            </td>\r\n            <td className=\"tg-73oq\" colSpan=\"2\">\r\n              <div className=\"w50\">\r\n                实施单位： \r\n                <div className=\"sign\">负责人签字：<br />(加盖公章)</div>\r\n                <div className=\"date\">&nbsp;年&emsp;月&emsp;日</div>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td className=\"tg-qtf5 left1\">审批项</td>\r\n            <td className=\"tg-73oq h20\" colSpan=\"2\">\r\n              <div className=\"w50\">\r\n                业务部门意见：\r\n                <p></p>\r\n                <div className=\"sign\">负责人签字：<br />(加盖公章)</div>\r\n                <div className=\"date\">&nbsp;年&emsp;月&emsp;日</div>\r\n              </div>\r\n            </td>\r\n            <td className=\"tg-73oq\" colSpan=\"2\">\r\n              <div className=\"w50\">\r\n                科技信息部意见：\r\n                <p></p>\r\n                <div className=\"sign\">负责人签字：<br />(加盖公章)</div>\r\n                <div className=\"date\">&nbsp;年&emsp;月&emsp;日</div>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Report;","import React, { Component } from 'react';\r\n\r\nclass Dynamic extends Component {\r\n  state = {\r\n    images: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch('https://api.github.com/emojis')\r\n      .then(resp => resp.json())\r\n      .then(resp => {\r\n        const images = [];\r\n        for (const key in resp) {\r\n          images.push({\r\n            link: resp[key],\r\n            title: key\r\n          });\r\n          if (images.length === 40)\r\n            break;\r\n        }\r\n        this.setState({\r\n          images\r\n        });\r\n      })\r\n      .catch(e => console.error(e));\r\n  }\r\n\r\n  render() {\r\n    const { images } = this.state;\r\n    console.log(images)\r\n    return (\r\n      <div>\r\n        {images.map((image, index) => (\r\n          <img key={index} src={image.link} alt={image.title} title={image.title} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dynamic;\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { Layout, Row, Col, Button } from 'antd';\r\nimport BaseComponent from 'components/BaseComponent';\r\nimport Panel from 'components/Panel';\r\nimport Print from 'components/Print';\r\nimport EC from 'components/Charts/ECharts/EC';\r\nimport 'echarts/lib/chart/pie';\r\nimport 'echarts/lib/component/tooltip';\r\nimport 'echarts/lib/component/title';\r\nimport Report from './Report';\r\nimport Dynamic from './Dynamic';\r\nconst { Content } = Layout;\r\n\r\n@connect()\r\nexport default class Blank extends BaseComponent {\r\n  state = {\r\n    element1: null,\r\n    element2: null\r\n  };\r\n\r\n  saveElement1 = node => {\r\n    this.setState({\r\n      element1: node\r\n    });\r\n  };\r\n\r\n  saveElement2 = node => {\r\n    this.setState({\r\n      element2: node\r\n    });\r\n  };\r\n\r\n  getOption = () => ({\r\n    title: {\r\n      text: '某站点用户访问来源',\r\n      subtext: '纯属虚构',\r\n      x: 'center'\r\n    },\r\n    tooltip: {\r\n      trigger: 'item',\r\n      formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n    },\r\n    legend: {\r\n      orient: 'vertical',\r\n      left: 'left',\r\n      data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎']\r\n    },\r\n    series: [\r\n      {\r\n        name: '访问来源',\r\n        type: 'pie',\r\n        radius: '55%',\r\n        center: ['50%', '60%'],\r\n        data: [\r\n          { value: 335, name: '直接访问' },\r\n          { value: 310, name: '邮件营销' },\r\n          { value: 234, name: '联盟广告' },\r\n          { value: 135, name: '视频广告' },\r\n          { value: 1548, name: '搜索引擎' }\r\n        ],\r\n        itemStyle: {\r\n          emphasis: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  render() {\r\n    const { element1, element2 } = this.state;\r\n    const comps = (\r\n      <div>\r\n        <table border=\"1\" style={{width: '100%'}}>\r\n          <thead>\r\n            <tr>\r\n              <th style={{textAlign: 'center', color: 'aqua'}}>姓名</th>\r\n              <th style={{textAlign: 'center', color: 'aqua'}}>年级</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style={{textAlign: 'center'}}>张三</td>\r\n              <td style={{textAlign: 'center'}}>一年级</td>\r\n            </tr>\r\n            <tr>\r\n              <td style={{textAlign: 'center'}}>王五</td>\r\n              <td style={{textAlign: 'center'}}>二年级</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n    return (\r\n      <Layout className=\"full-layout page print-page\">\r\n        <Content>\r\n          <Panel title=\"说明\" ref={this.saveElement1}>\r\n            <h3>Print 用法</h3>\r\n            <p>支持打印组件，打印HTML文本，dom元素，未渲染的React组件等</p>\r\n          </Panel>\r\n          <Row gutter={20}>\r\n            <Col span={12}>\r\n              <Panel title=\"字符串 & HTML文本\">\r\n                <div>{`<span style=\"color: red\">今晚打老虎</span>`}</div>\r\n                <br />\r\n                <Print content={`<span style=\"color: red\">今晚打老虎</span>`} />\r\n              </Panel>\r\n              <Panel title=\"未渲染的React组件\">\r\n                <div>{comps}</div>\r\n                <br />\r\n                <Print\r\n                  trigger={<Button icon=\"printer\">打印</Button>}\r\n                  content={comps}\r\n                />\r\n              </Panel>\r\n              <Panel title=\"报表示例\">\r\n                <div>点击按钮打印一份报表</div>\r\n                <br />\r\n                <Print\r\n                  trigger={<Button icon=\"printer\">打印</Button>}\r\n                  content={<Report />}\r\n                />\r\n              </Panel>\r\n              <Panel title=\"动态获取内容\">\r\n                <div>打印 EMOJI</div>\r\n                <br />\r\n                <Print\r\n                  trigger={<Button icon=\"printer\">打印</Button>}\r\n                  content={<Dynamic />}\r\n                />\r\n              </Panel>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Panel title=\"ref 对应的 DOM 元素 | React 节点\">\r\n                <div>将打印顶部说明内容</div>\r\n                <br />\r\n                {element1 ? (\r\n                  <Print\r\n                    trigger={<Button icon=\"printer\">打印</Button>}\r\n                    content={element1}\r\n                  />\r\n                ) : null}\r\n              </Panel>\r\n              <Panel title=\"Canvas图表\">\r\n                <div style={{ height: 300 }}>\r\n                  <EC option={this.getOption()} ref={this.saveElement2} />\r\n                </div>\r\n                <br />\r\n                {element2 ? (\r\n                  <Print\r\n                    canvas\r\n                    trigger={<Button icon=\"printer\">打印</Button>}\r\n                    content={element2}\r\n                  />\r\n                ) : null}\r\n              </Panel>\r\n            </Col>\r\n          </Row>\r\n        </Content>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Icon from '../Icon';\r\nimport cx from 'classnames';\r\nimport CSSAnimate from '../CSSAnimate';\r\nimport { Popconfirm, Modal } from 'antd';\r\nimport './style/index.less';\r\nconst confirm = Modal.confirm;\r\nconst noop = _ => {};\r\n/**\r\n * 面板组件\r\n */\r\nclass Panel extends Component {\r\n  static defaultProps = {\r\n    prefix: 'antui-panel'\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      collapse: props.collapse || false,\r\n      expand: props.expand || false,\r\n      refresh: 0,\r\n      animationName: ''\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const st = {};\r\n    if ('collapse' in nextProps) {\r\n      st.collapse = true;\r\n    } else if ('expand' in nextProps) {\r\n      st.expand = true;\r\n    }\r\n    if (Object.keys(st).length) {\r\n      this.setState(st);\r\n    }\r\n  }\r\n\r\n  onExpand = expand => e => {\r\n    const { onChange } = this.props;\r\n\r\n    this.setState({\r\n      expand,\r\n      collapse: false\r\n    });\r\n\r\n    if (onChange) {\r\n      onChange({\r\n        expand,\r\n        collapse: false\r\n      });\r\n    }\r\n  };\r\n\r\n  onCollapse = collapse => e => {\r\n    const { onChange } = this.props;\r\n\r\n    this.setState({\r\n      collapse,\r\n      expand: false\r\n    });\r\n\r\n    if (onChange) {\r\n      onChange({\r\n        collapse,\r\n        expand: false\r\n      });\r\n    }\r\n  };\r\n\r\n  onRefresh = () => {\r\n    this.setState({\r\n      refresh: this.state.refresh + 1,\r\n      animationName: 'fadeIn'\r\n    });\r\n    this.props.onRefresh && this.props.onRefresh();\r\n  };\r\n\r\n  onClose = () => {\r\n    const { expand } = this.state;\r\n    if (expand) {\r\n      confirm({\r\n        title: '提示',\r\n        content: '您确认要关闭这个面板？',\r\n        onOk: () => {\r\n          this.props.onClose && this.props.onClose();\r\n        }\r\n      });\r\n    } else {\r\n      this.props.onClose && this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { expand, collapse, refresh, animationName } = this.state;\r\n    const {\r\n      theme,\r\n      prefix,\r\n      className,\r\n      title,\r\n      width,\r\n      height,\r\n      style,\r\n      children,\r\n      header,\r\n      cover,\r\n      scroll,\r\n    } = this.props;\r\n\r\n    const classnames = cx(prefix, className, {\r\n      theme: !!theme,\r\n      'panel-fullscreen': !!expand,\r\n      'panel-collapsed': !!collapse,\r\n      cover: !!cover\r\n    });\r\n\r\n    const styles = {\r\n      ...style,\r\n      width\r\n    };\r\n    const bodyStyles = {};\r\n    if (!expand) {\r\n      bodyStyles.height = height;\r\n    }\r\n    if (scroll) {\r\n      bodyStyles.overflow = 'auto';\r\n    }\r\n\r\n    const Header =\r\n      typeof header === 'undefined' ? (\r\n        <div className={`${prefix}-header`}>\r\n          <span className={`${prefix}-header-title`}>{title}</span>\r\n          <span className={`${prefix}-header-controls`}>\r\n            <a className=\"panel-control-loader\" onClick={this.onRefresh}>\r\n              <Icon type=\"refresh\" />\r\n            </a>\r\n            <a\r\n              className=\"panel-control-fullscreen\"\r\n              onClick={this.onExpand(expand ? false : true)}\r\n            >\r\n              <Icon type={`${expand ? 'shrink' : 'enlarge'}`} />\r\n            </a>\r\n            <a\r\n              className=\"panel-control-collapsed\"\r\n              onClick={this.onCollapse(collapse ? false : true)}\r\n            >\r\n              <Icon type={`${collapse ? 'plus' : 'minus'}`} />\r\n            </a>\r\n            <Popconfirm\r\n              title=\"您确认要关闭这个面板？\"\r\n              onConfirm={this.onClose}\r\n              placement=\"topRight\"\r\n            >\r\n              <a\r\n                className=\"panel-control-remove\"\r\n                onClick={expand ? this.onClose : noop}\r\n              >\r\n                <Icon type=\"close\" />\r\n              </a>\r\n            </Popconfirm>\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        header\r\n      );\r\n\r\n    return (\r\n      <div className={classnames} style={styles}>\r\n        {Header}\r\n        <div className={`${prefix}-body`} style={bodyStyles}>\r\n          <CSSAnimate\r\n            className=\"panel-content\"\r\n            type={animationName}\r\n            callback={_ => this.setState({ animationName: '' })}\r\n            key={refresh}\r\n          >\r\n            {children}\r\n          </CSSAnimate>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Panel;\r\n","import Panel from './Panel';\r\n\r\nexport default Panel;"],"sourceRoot":""}